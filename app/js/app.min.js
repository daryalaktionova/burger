/* Overlay menu */

  
  let menu = (function(options) {

    let button = document.querySelector(options.button);
    let menu = document.querySelector(options.menu);
    let body = document.querySelector('body');
    let link = document.querySelectorAll(".overlay-menu__link");
    



    let _toggleMenu = function(e) {
      button.classList.toggle('hamburger-bar--active');
      menu.classList.toggle('overlay--open');
      body.classList.toggle('body-active-menu');
    }

    let addListeners = function() {
      button.addEventListener('click', _toggleMenu);
        for (i=0;i<link.length;i++){
          link[i].addEventListener('click', _toggleMenu);
        }
    }

    
    return {
        openMenu: addListeners
      };

  })({
    button: '#toggle',
    menu: '#overlay'
  });

  menu.openMenu();


/*end overlay menu */

/*Accodeon team*/
let teamAccordeon = (function(options) {

    let linkAccordeon = document.querySelectorAll(options.link);

    let _toggleAccordeon = function(e) {
      e.preventDefault();
      this.parentNode.classList.toggle('accordeon__item--is-active');
    }

    let addListenersAccordeon = function() {
       for (i=0;i<linkAccordeon.length;i++){
          linkAccordeon[i].addEventListener('click', _toggleAccordeon);
        }
    }



    
    return {
        openItemAccordeon: addListenersAccordeon
      };

  })({
    link: '.accordeon__link'
  });

  teamAccordeon.openItemAccordeon();


/*end Accordeon team */


/*Accordeon menu */
let menuAccordeon = (function(options) {

    let linkAccordeonMenu = document.querySelectorAll(options.link);

    let _toggleAccordeonMenu = function(e) {
      e.preventDefault();
      this.parentNode.classList.toggle('accordeon-menu__item--is-active');
    }

    let addListenersAccordeonMenu = function() {
       for (i=0;i<linkAccordeonMenu.length;i++){
          linkAccordeonMenu[i].addEventListener('click', _toggleAccordeonMenu);
        }
    }



    
    return {
        openItemAccordeonMenu: addListenersAccordeonMenu
      };

  })({
    link: '.accordeon-menu__link'
  });

  menuAccordeon.openItemAccordeonMenu();



/*Accordeon menu end */

/* popup */
let popup = (function(options) {
	let wrapper = document.querySelector('.reviews__list');

	let _tooglePopup = (function(e) {
		e.preventDefault();

		if (e.target.className == options.button) {
			_openPopup(e.target);
		}
	});

	let _openPopup = (function(button){
		let overlay = document.createElement('div');
		overlay.classList.add('overlay');

		let popupWindow = document.createElement('div');
		popupWindow.classList.add('popup');

    const xhr = new XMLHttpRequest();
    xhr.responseType = 'json';
    //xhr.open('GET', 'https://webdev-api.loftschool.com/sendmail/fail'); //для отрицательного ответа
    xhr.open('GET', 'https://loftschool.com');   //для положительного ответа
    xhr.send();
    xhr.addEventListener('load', () => {
      if(xhr.status<400) {
          
      } else {
          contentText.innerHTML = 'Ошибка отправки данных';
      }
    })
		let contentText = document.createElement('div');
		contentText.classList.add('popup__content');

		let content = button.parentNode;

		let text = content.querySelector(options.text).textContent;
		contentText.innerHTML = text;

		let titleItem= document.createElement('div');
		titleItem.classList.add('popup__title');

		let title = content.querySelector(options.title).textContent;
		titleItem.innerHTML = title;

		let closeIcon = document.createElement("a");
		closeIcon.classList.add("popup__close");
		closeIcon.innerHTML = '<svg class="popup__close-image"><use xlink:href="./images/icons/sprite.svg#close"></use></svg>';
		closeIcon.href = "#";
		closeIcon.addEventListener("click", (function(e){
			e.preventDefault();
			_closePopup(overlay);
		}));

		overlay.appendChild(popupWindow);
		popupWindow.appendChild(titleItem);
		popupWindow.appendChild(contentText);
		popupWindow.appendChild(closeIcon);

		document.body.appendChild(overlay);
	});

	let _closePopup = (function(overlay) {
		document.body.removeChild(overlay);
	});

	let addListeners = (function() {
		wrapper.addEventListener('click', _tooglePopup)
	});

	return {
		init: addListeners
	}
});

popup({
	button: "reviews__button",
	title: ".reviews__title",
	text: ".reviews__text"
}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogT3ZlcmxheSBtZW51ICovXHJcblxyXG4gIFxyXG4gIGxldCBtZW51ID0gKGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHJcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmJ1dHRvbik7XHJcbiAgICBsZXQgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5tZW51KTtcclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm92ZXJsYXktbWVudV9fbGlua1wiKTtcclxuICAgIFxyXG5cclxuXHJcblxyXG4gICAgbGV0IF90b2dnbGVNZW51ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaGFtYnVyZ2VyLWJhci0tYWN0aXZlJyk7XHJcbiAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnb3ZlcmxheS0tb3BlbicpO1xyXG4gICAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2JvZHktYWN0aXZlLW1lbnUnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90b2dnbGVNZW51KTtcclxuICAgICAgICBmb3IgKGk9MDtpPGxpbmsubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICBsaW5rW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RvZ2dsZU1lbnUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3Blbk1lbnU6IGFkZExpc3RlbmVyc1xyXG4gICAgICB9O1xyXG5cclxuICB9KSh7XHJcbiAgICBidXR0b246ICcjdG9nZ2xlJyxcclxuICAgIG1lbnU6ICcjb3ZlcmxheSdcclxuICB9KTtcclxuXHJcbiAgbWVudS5vcGVuTWVudSgpO1xyXG5cclxuXHJcbi8qZW5kIG92ZXJsYXkgbWVudSAqL1xyXG5cclxuLypBY2NvZGVvbiB0ZWFtKi9cclxubGV0IHRlYW1BY2NvcmRlb24gPSAoZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cclxuICAgIGxldCBsaW5rQWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmxpbmspO1xyXG5cclxuICAgIGxldCBfdG9nZ2xlQWNjb3JkZW9uID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdhY2NvcmRlb25fX2l0ZW0tLWlzLWFjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBhZGRMaXN0ZW5lcnNBY2NvcmRlb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgIGZvciAoaT0wO2k8bGlua0FjY29yZGVvbi5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgIGxpbmtBY2NvcmRlb25baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdG9nZ2xlQWNjb3JkZW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3Blbkl0ZW1BY2NvcmRlb246IGFkZExpc3RlbmVyc0FjY29yZGVvblxyXG4gICAgICB9O1xyXG5cclxuICB9KSh7XHJcbiAgICBsaW5rOiAnLmFjY29yZGVvbl9fbGluaydcclxuICB9KTtcclxuXHJcbiAgdGVhbUFjY29yZGVvbi5vcGVuSXRlbUFjY29yZGVvbigpO1xyXG5cclxuXHJcbi8qZW5kIEFjY29yZGVvbiB0ZWFtICovXHJcblxyXG5cclxuLypBY2NvcmRlb24gbWVudSAqL1xyXG5sZXQgbWVudUFjY29yZGVvbiA9IChmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG4gICAgbGV0IGxpbmtBY2NvcmRlb25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmxpbmspO1xyXG5cclxuICAgIGxldCBfdG9nZ2xlQWNjb3JkZW9uTWVudSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnBhcmVudE5vZGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWNjb3JkZW9uLW1lbnVfX2l0ZW0tLWlzLWFjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBhZGRMaXN0ZW5lcnNBY2NvcmRlb25NZW51ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICBmb3IgKGk9MDtpPGxpbmtBY2NvcmRlb25NZW51Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgbGlua0FjY29yZGVvbk1lbnVbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdG9nZ2xlQWNjb3JkZW9uTWVudSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9wZW5JdGVtQWNjb3JkZW9uTWVudTogYWRkTGlzdGVuZXJzQWNjb3JkZW9uTWVudVxyXG4gICAgICB9O1xyXG5cclxuICB9KSh7XHJcbiAgICBsaW5rOiAnLmFjY29yZGVvbi1tZW51X19saW5rJ1xyXG4gIH0pO1xyXG5cclxuICBtZW51QWNjb3JkZW9uLm9wZW5JdGVtQWNjb3JkZW9uTWVudSgpO1xyXG5cclxuXHJcblxyXG4vKkFjY29yZGVvbiBtZW51IGVuZCAqL1xyXG5cclxuLyogcG9wdXAgKi9cclxubGV0IHBvcHVwID0gKGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRsZXQgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdzX19saXN0Jyk7XHJcblxyXG5cdGxldCBfdG9vZ2xlUG9wdXAgPSAoZnVuY3Rpb24oZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT0gb3B0aW9ucy5idXR0b24pIHtcclxuXHRcdFx0X29wZW5Qb3B1cChlLnRhcmdldCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGxldCBfb3BlblBvcHVwID0gKGZ1bmN0aW9uKGJ1dHRvbil7XHJcblx0XHRsZXQgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdvdmVybGF5Jyk7XHJcblxyXG5cdFx0bGV0IHBvcHVwV2luZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRwb3B1cFdpbmRvdy5jbGFzc0xpc3QuYWRkKCdwb3B1cCcpO1xyXG5cclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcclxuICAgIC8veGhyLm9wZW4oJ0dFVCcsICdodHRwczovL3dlYmRldi1hcGkubG9mdHNjaG9vbC5jb20vc2VuZG1haWwvZmFpbCcpOyAvL9C00LvRjyDQvtGC0YDQuNGG0LDRgtC10LvRjNC90L7Qs9C+INC+0YLQstC10YLQsFxyXG4gICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2xvZnRzY2hvb2wuY29tJyk7ICAgLy/QtNC70Y8g0L/QvtC70L7QttC40YLQtdC70YzQvdC+0LPQviDQvtGC0LLQtdGC0LBcclxuICAgIHhoci5zZW5kKCk7XHJcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgaWYoeGhyLnN0YXR1czw0MDApIHtcclxuICAgICAgICAgIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udGVudFRleHQuaW5uZXJIVE1MID0gJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INC00LDQvdC90YvRhSc7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblx0XHRsZXQgY29udGVudFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGNvbnRlbnRUZXh0LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19jb250ZW50Jyk7XHJcblxyXG5cdFx0bGV0IGNvbnRlbnQgPSBidXR0b24ucGFyZW50Tm9kZTtcclxuXHJcblx0XHRsZXQgdGV4dCA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLnRleHQpLnRleHRDb250ZW50O1xyXG5cdFx0Y29udGVudFRleHQuaW5uZXJIVE1MID0gdGV4dDtcclxuXHJcblx0XHRsZXQgdGl0bGVJdGVtPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRpdGxlSXRlbS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fdGl0bGUnKTtcclxuXHJcblx0XHRsZXQgdGl0bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy50aXRsZSkudGV4dENvbnRlbnQ7XHJcblx0XHR0aXRsZUl0ZW0uaW5uZXJIVE1MID0gdGl0bGU7XHJcblxyXG5cdFx0bGV0IGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG5cdFx0Y2xvc2VJY29uLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fY2xvc2VcIik7XHJcblx0XHRjbG9zZUljb24uaW5uZXJIVE1MID0gJzxzdmcgY2xhc3M9XCJwb3B1cF9fY2xvc2UtaW1hZ2VcIj48dXNlIHhsaW5rOmhyZWY9XCIuL2ltYWdlcy9pY29ucy9zcHJpdGUuc3ZnI2Nsb3NlXCI+PC91c2U+PC9zdmc+JztcclxuXHRcdGNsb3NlSWNvbi5ocmVmID0gXCIjXCI7XHJcblx0XHRjbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRfY2xvc2VQb3B1cChvdmVybGF5KTtcclxuXHRcdH0pKTtcclxuXHJcblx0XHRvdmVybGF5LmFwcGVuZENoaWxkKHBvcHVwV2luZG93KTtcclxuXHRcdHBvcHVwV2luZG93LmFwcGVuZENoaWxkKHRpdGxlSXRlbSk7XHJcblx0XHRwb3B1cFdpbmRvdy5hcHBlbmRDaGlsZChjb250ZW50VGV4dCk7XHJcblx0XHRwb3B1cFdpbmRvdy5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xyXG5cclxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XHJcblx0fSk7XHJcblxyXG5cdGxldCBfY2xvc2VQb3B1cCA9IChmdW5jdGlvbihvdmVybGF5KSB7XHJcblx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xyXG5cdH0pO1xyXG5cclxuXHRsZXQgYWRkTGlzdGVuZXJzID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0d3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90b29nbGVQb3B1cClcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGluaXQ6IGFkZExpc3RlbmVyc1xyXG5cdH1cclxufSk7XHJcblxyXG5wb3B1cCh7XHJcblx0YnV0dG9uOiBcInJldmlld3NfX2J1dHRvblwiLFxyXG5cdHRpdGxlOiBcIi5yZXZpZXdzX190aXRsZVwiLFxyXG5cdHRleHQ6IFwiLnJldmlld3NfX3RleHRcIlxyXG59KS5pbml0KCk7Il19
